<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="description" content="{{ description }}" />
    <meta name="keywords" content="{{ keywords }}" />
    <title>{{ title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

    <script>
        var ieVersion = (function() {
            var ua = window.navigator.userAgent;
            var msie = ua.indexOf('MSIE');
            if (msie > 0) {
                return parseInt (ua.substring(msie + 5, ua.indexOf('.', msie)));
            }
            return 0;
        })();
        if (ieVersion && ieVersion < 8) {
            location.href = './legacy.html';
        }
    </script>

<!-- @if NODE_ENV='development' -->
    <link href="./less/styles.less" type="text/css" rel="stylesheet/less" />
    <script>
        var less = {
            env: 'development'
        };
    </script>
    <script src="./bower_components/less/dist/less.js"></script>

    <!--[if lt IE 9]>
        <link href="./css/ie8.css" rel="stylesheet" type="text/css" />
    <![endif]-->
    <!--[if lt IE 10]>
        <script src="./bower_components/respond/dest/respond.src.js"></script>
    <![endif]-->
    <!--[if lt IE 9]>
        <script src="./bower_components/html5shiv/dist/html5shiv.js"></script>
    <![endif]-->
<!-- @endif -->

<!-- @if NODE_ENV='production' !>
    <link href="./css/styles.min.css" rel="stylesheet" type="text/css" />

    <!--[if lt IE 9]>
        <link href="./css/ie8.min.css" rel="stylesheet" type="text/css" />
    <![endif]-->
    <!--[if lt IE 10]>
        <script src="./js/respond.min.js"></script>
    <![endif]-->
    <!--[if lt IE 9]>
        <script src="./js/html5shiv.min.js"></script>
    <![endif]-->
<!-- @endif -->

    <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300italic,700&amp;subset=cyrillic,latin' rel='stylesheet' type='text/css'>

    <link rel="icon" type="image/jpeg" href="./img/favicon.jpg" />

    <style>
        /* стили для песочницы */
        #gallery1 {
            background: #777;
        }

        #gallery2 {
            background: #000;
        }

        .container-fluid p {
            text-align: center;
        }

        #btn1,
        #btn2 {
            margin: 10px auto;
        }
    </style>

</head>
<body>

    <!-- page content -->

    <section>
        <div class="container">

            <div id="gallery1"></div>

        </div>

        <div class="container-fluid">
            <p>
                <a href="#" class="btn btn-default" id="btn1">Уничтожить галерею №1</a>
            </p>
            <p>
                <a href="#" class="btn btn-default" id="btn2">Добавить ещё одну галерею</a>
            </p>

            <div id="gallery2"></div>

        </div>
    </section>

    <!-- /page content -->

<!-- @if NODE_ENV='development' -->
    <script src="./bower_components/jquery/dist/jquery.js"></script>
    <!--[if lt IE 9]>
        <script src="./bower_components/jquery1.10/jquery.js"></script>
    <![endif]-->
<!-- @endif -->
<!-- @if NODE_ENV='development' -->
    <script src="./bower_components/bootstrap/dist/js/bootstrap.js"></script>

    <script src="./js/logger.js"></script>
    <script src="./js/translator.js"></script>
    <script src="./js/adaptiveimage.js"></script>
    <script src="./js/gallery.js"></script>

    <script>var debug = true;</script>
<!-- @endif -->

<!-- @if NODE_ENV='production' !>
    <script src="./js/app.min.js"></script>

    <!--[if lt IE 9]>
        <script src="./js/app-lt-ie9.min.js"></script>
    <![endif]-->
<!-- @endif -->
<!-- @if NODE_ENV='production' !>
    <script>var debug = false;</script>
<!-- @endif -->

    <script>
        $(document).ready(function() {
            // инициализация модуля
            Gallery.init({
                debug: debug
            });

            // галерея №1
            var gallery1 = Gallery.create(
                // контейнер
                $('#gallery1'),
                // изображения
                [
                    ['./gallery/works/1.jpg',[600,869]],
                    ['./gallery/works/2.jpg',[825,600]],
                    ['./gallery/works/3.jpg',[600,887]],
                    ['./gallery/works/4.jpg',[819,600]],
                    ['./gallery/works/5.jpg',[600,880]],
                    ['./gallery/works/6.jpg',[600,888]],
                    ['./gallery/works/7.jpg',[600,887]],
                    ['./gallery/works/8.jpg',[800,600]],
                    ['./gallery/works/9.jpg',[600,900]],
                    ['./gallery/works/10.jpg',[800,600]]
                ],
                // настройки
                {
                    width: function() { return $('#gallery1').width() },
                    rowHeight: 250,
                    margin: 2
                }
            );

            // пример уничтожения галереи (при нажатии на кнопку)
            $('#btn1').on('click', function(evt) {
                evt.preventDefault();

                $('#btn1').hide();
                gallery1.destroy();
            });

            // галерея №2
            // для примера инициализация галереи происходит при нажатии на кнопку
            $('#btn2').on('click', function(evt) {
                evt.preventDefault();

                $('#btn2').hide();

                Gallery.create(
                    // контейнер
                    $('#gallery2'),
                    // изображения
                    [
                        ['./gallery/pipes/001.jpg',[768,1024]],
                        ['./gallery/pipes/002.jpg',[1280,960]],
                        ['./gallery/pipes/008.jpg',[768,1024]],
                        ['./gallery/pipes/009.jpg',[672,900]],
                        ['./gallery/pipes/010.jpg',[900,672]],
                        ['./gallery/pipes/011.jpg',[768,1024]],
                        ['./gallery/pipes/012.jpg',[1280,960]],
                        ['./gallery/pipes/013.jpg',[1280,960]],
                        ['./gallery/pipes/030.jpg',[1280,854]],
                        ['./gallery/pipes/031.jpg',[1280,854]],
                        ['./gallery/pipes/032.jpg',[1280,854]],
                        ['./gallery/pipes/033.jpg',[648,1024]],
                        ['./gallery/pipes/034.jpg',[1280,854]],
                        ['./gallery/pipes/035.jpg',[1280,854]],
                        ['./gallery/pipes/036.jpg',[768,1024]],
                        ['./gallery/pipes/037.jpg',[1280,854]],
                        ['./gallery/pipes/039.jpg',[807,602]],
                        ['./gallery/pipes/040.jpg',[807,538]],
                        ['./gallery/pipes/041.jpg',[807,538]],
                        ['./gallery/pipes/042.jpg',[807,538]],
                        ['./gallery/pipes/043.jpg',[807,745]]
                    ],
                    // настройки
                    {
                        width: function() { return $('#gallery2').width() },
                        rowHeight: 100,
                        margin: 5
                    }
                );
            });
        });
    </script>
</body>
</html>
